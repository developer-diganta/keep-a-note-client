(this["webpackJsonpkeep-a-note"]=this["webpackJsonpkeep-a-note"]||[]).push([[0],{59:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(14),c=n.n(r),o=n(7),s=n.n(o),i=n(12),l=n(15),u=(n(59),n(24)),d=n(88),j=n(91),p=n(90),b=n(52),O=n.n(b),f=n(89),h=n(27),x=n.n(h);function g(e){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,x.a.post("https://keep-a-note.herokuapp.com/api/getNotes",{token:t});case 3:if(n=e.sent,console.log("GETNOTES : "+n.data.length),0!==n.data.length){e.next=9;break}return e.abrupt("return",[]);case 9:return e.next=11,n.data[0].notes;case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a="sample",e.next=4,x.a.post("https://keep-a-note.herokuapp.com/api/addNotes",{token:t,data:n});case 4:return a=e.sent,console.log(a),e.abrupt("return","SUCCESS");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,x.a.post("https://keep-a-note.herokuapp.com/api/deleteNotes",{token:t,id:n});case 3:return a=e.sent,console.log(a),e.next=7,a;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(s.a.mark((function e(t,n,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,x.a.post("https://keep-a-note.herokuapp.com/api/editNotes",{token:t,id:n,data:a});case 3:r=e.sent,console.log(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(36);var w=Object(T.a)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(u.a)({},t.data))),console.log(e),e=JSON.stringify(Object(u.a)({},t.data)),console.log("STETETEET"+e.authData),e;case"LOGOUT":return localStorage.setItem("profile",null),e=null;default:return e}},noteReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addNote":return++e;case"deleteNote":return--e;default:return e}}}),I=Object(T.b)(w),C=n(3);function L(){var e=JSON.parse(localStorage.getItem("profile")),t=function(){var t=Object(i.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={name:n.target.title.value,desc:n.target.desc.value},console.log("NEW ENTRY : "+a),t.next=5,m(e,a);case 5:t.sent,I.dispatch({type:"addNote"}),console.log("DONE");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)(f.a,{onSubmit:t,children:[Object(C.jsxs)(f.a.Group,{controlId:"title",children:[Object(C.jsx)(f.a.Label,{children:"Title"}),Object(C.jsx)(f.a.Control,{required:!0,name:"title",as:"textarea",rows:3})]}),Object(C.jsxs)(f.a.Group,{controlId:"description",children:[Object(C.jsx)(f.a.Label,{children:"Description"}),Object(C.jsx)(f.a.Control,{required:!0,name:"desc",as:"textarea",rows:3})]}),Object(C.jsx)("button",{type:"submit",children:"SUBMIT"})]})}n(82);var G=n(34);function _(e){return Object(C.jsxs)(d.a,Object(u.a)(Object(u.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(C.jsx)(d.a.Header,{closeButton:!0,children:Object(C.jsx)(d.a.Title,{id:"contained-modal-title-vcenter",children:"Modal heading"})}),Object(C.jsx)(d.a.Body,{children:Object(C.jsx)(L,{})})]}))}function D(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(G.b)(),o=Object(a.useState)(0),s=Object(l.a)(o,2),i=s[0],u=s[1],d=Object(a.useState)(JSON.parse(localStorage.getItem("profile"))),b=Object(l.a)(d,2),f=b[0],h=b[1];I.subscribe((function(){console.log("USE EFFFFFECT"),u(I.getState())})),Object(a.useEffect)((function(){r(!1)}),[i]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(j.a,{variant:"dark",className:"nav-body ",children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)(j.a.Brand,{href:"#home",children:[" ",Object(C.jsx)("span",{className:"nav-txt",children:"Keep A Note"})]}),Object(C.jsxs)(p.a,{className:"ml-auto ",children:[f?Object(C.jsx)("button",{onClick:function(){c({type:"LOGOUT"}),h(null)},children:"LOGOUT"}):Object(C.jsx)(O.a,{clientId:"918449343960-9a30d7rc4kvgbufpa63iaa8gjsqs15rj.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){console.log("USER"+f);var t=null===e||void 0===e?void 0:e.profileObj,n=null===e||void 0===e?void 0:e.tokenId;try{c({type:"AUTH",data:{result:t,token:n}})}catch(a){console.log(a)}h(JSON.parse(localStorage.getItem("profile"))),console.log(e)},onFailure:function(e){console.log(e),console.log("FAIL")},cookiePolicy:"single_host_origin"}),Object(C.jsx)("h1",{children:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLIENTID:"918449343960-9a30d7rc4kvgbufpa63iaa8gjsqs15rj.apps.googleusercontent.com"}).GOOGLE_CLIENTID}),Object(C.jsx)("button",{className:"bttn",disabled:!f,onClick:function(){return r(!0)},children:"ADD"})]})]})}),Object(C.jsx)(_,{show:n,onHide:function(){return r(!1)}})]})}var F=n(92);n(84);function R(e){var t=function(){var t=Object(i.a)(s.a.mark((function t(n){var a,r,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("profile")),n.preventDefault(),r=e.id,c={name:n.target.title.value,desc:n.target.desc.value},t.next=6,y(a,r,c);case 6:o=t.sent,I.dispatch({type:"addNote"}),console.log(o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsxs)(f.a,{onSubmit:t,children:[Object(C.jsxs)(f.a.Group,{controlId:"title",children:[Object(C.jsx)(f.a.Label,{children:"Title"}),Object(C.jsx)(f.a.Control,{required:!0,name:"title",defaultValue:e.title,as:"textarea",rows:3})]}),Object(C.jsxs)(f.a.Group,{controlId:"description",children:[Object(C.jsx)(f.a.Label,{children:"Description"}),Object(C.jsx)(f.a.Control,{required:!0,name:"desc",defaultValue:e.desc,as:"textarea",rows:3})]}),Object(C.jsx)("button",{children:"SUBMIT"})]})}function U(e){var t=JSON.parse(localStorage.getItem("profile")),n=function(){var n=Object(i.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N(t,e.id);case 2:return n.next=4,I.dispatch({type:"deleteNote"});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r=Object(a.useState)("none"),c=Object(l.a)(r,2),o=c[0],u=c[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),p=j[0],b=j[1];return I.subscribe((function(){b(!p)})),Object(a.useEffect)((function(){u("none")}),[p]),Object(C.jsx)("div",{className:"col-lg-4 col-md-6 col-xs-12 d-flex justify-content-center",children:Object(C.jsxs)(F.a,{style:{width:"18rem",height:"30rem",overflow:"auto",margin:"10px",backgroundColor:"#f48fb1"},children:[Object(C.jsx)(F.a.Img,{variant:"top",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCGFwGjXf7R4e7uMFvXxcXyiLCdM_G5mmPLA&usqp=CAU"}),Object(C.jsxs)(F.a.Body,{children:[Object(C.jsx)(F.a.Title,{children:e.title}),Object(C.jsx)(F.a.Text,{children:e.desc}),Object(C.jsx)("button",{onClick:n,children:Object(C.jsx)("i",{className:"fas fa-trash del-icon"})}),Object(C.jsx)("button",{onClick:function(){return u("block")},children:Object(C.jsx)("i",{className:"fas fa-edit del-icon"})}),Object(C.jsxs)("span",{style:{display:o},children:[Object(C.jsx)(R,{id:e.id,title:e.title,desc:e.desc},e.id),Object(C.jsx)("button",{onClick:function(){return u("none")},children:"Close"})]})]})]})})}var A=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=(JSON.parse(localStorage.getItem("profile")),Object(a.useState)(0)),o=Object(l.a)(c,2),u=o[0],d=o[1];return I.subscribe((function(){var e=I.getState();console.log("NEWWWWW : "+e.authReducer),null===e.authReducer&&null,d(u+1),console.log("subscribe called")})),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("profile"));function t(){return(t=Object(i.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("Fetch Notes called"),null!==e){t.next=6;break}return r([]),t.abrupt("return");case 6:return t.next=8,g(e);case 8:return n=t.sent,console.log("NEW NOTES : "+n),r(n),t.abrupt("return");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[u]),Object(C.jsxs)("div",{className:"main-body",children:[Object(C.jsx)(D,{}),Object(C.jsx)("div",{style:{margin:"10px"}}),Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row",children:n.map((function(e,t){return Object(C.jsx)(U,{id:t,title:e.name,desc:e.desc})}))})})]})};n(85);c.a.render(Object(C.jsx)(G.a,{store:I,children:Object(C.jsx)(A,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.14816d0b.chunk.js.map